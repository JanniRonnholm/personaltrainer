[{"C:\\Users\\janni\\personal_trainer\\src\\index.js":"1","C:\\Users\\janni\\personal_trainer\\src\\reportWebVitals.js":"2","C:\\Users\\janni\\personal_trainer\\src\\App.js":"3","C:\\Users\\janni\\personal_trainer\\src\\components\\Customerlist.js":"4","C:\\Users\\janni\\personal_trainer\\src\\components\\Trainingslist.js":"5","C:\\Users\\janni\\personal_trainer\\src\\components\\Editcustomer.js":"6","C:\\Users\\janni\\personal_trainer\\src\\components\\Addcustomer.js":"7","C:\\Users\\janni\\personal_trainer\\src\\components\\Addtraining.js":"8","C:\\Users\\janni\\personal_trainer\\src\\components\\Calendar.js":"9"},{"size":500,"mtime":499162500000,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"11"},{"size":984,"mtime":1607787809566,"results":"13","hashOfConfig":"11"},{"size":4761,"mtime":1607786885968,"results":"14","hashOfConfig":"11"},{"size":3861,"mtime":1607785940523,"results":"15","hashOfConfig":"11"},{"size":5166,"mtime":1607783641545,"results":"16","hashOfConfig":"11"},{"size":4567,"mtime":1607779276494,"results":"17","hashOfConfig":"11"},{"size":3395,"mtime":1607787493858,"results":"18","hashOfConfig":"11"},{"size":134,"mtime":1607787742680,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"p0yq4o",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"C:\\Users\\janni\\personal_trainer\\src\\index.js",[],["40","41"],"C:\\Users\\janni\\personal_trainer\\src\\reportWebVitals.js",[],"C:\\Users\\janni\\personal_trainer\\src\\App.js",[],"C:\\Users\\janni\\personal_trainer\\src\\components\\Customerlist.js",[],"C:\\Users\\janni\\personal_trainer\\src\\components\\Trainingslist.js",["42","43"],"import moment from 'moment';\r\nimport React, { useState, useEffect } from 'react';\r\nimport ReactTable from 'react-table';\r\nimport 'react-table/react-table.css';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nexport default function Trainingslist() {\r\n    const [trainings, setTrainings] = useState([]);\r\n    const [open, setOpen] = React.useState(false);\r\n    const [link, setLink] = useState('');\r\n\r\n    useEffect(() => fetchTrainingsData(), []);\r\n\r\n    const fetchTrainingsData = async () => {\r\n        try {\r\n            const response = await fetch('http://customerrest.herokuapp.com/api/trainings')\r\n            const responseToJSON = await response.json()\r\n    \r\n            const addedCustomer = await Promise.all(responseToJSON.content.map(async (training) => {\r\n                try {\r\n                    \r\n                const customer = await fetch(training.links[2].href)\r\n                const customerToJSON = await customer.json()\r\n\r\n                return {...training, customer: `${customerToJSON.firstname} ${customerToJSON.lastname}`}\r\n                \r\n                } catch (error) {\r\n                    return {...training, customer: ''}\r\n                    console.log(`Error in promise all: ${error.message}`)\r\n                }\r\n            }))\r\n    \r\n            const modifiedDates = addedCustomer.map(training => {\r\n                if (training !== undefined) {\r\n                    return {...training, date: moment(training.date).format('L')}\r\n                }\r\n            })\r\n    \r\n            setTrainings(modifiedDates)\r\n        } catch (error) {\r\n            console.log('Error: ', error.message)\r\n        }\r\n    }\r\n    \r\n    const handleOpen = (link) => {\r\n        console.log(link)\r\n        setLink(link);\r\n        setOpen(true);\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const deleteTraining = () => {\r\n        fetch(link, {method: 'DELETE'})\r\n        .then(res => fetchTrainingsData())\r\n        .catch(err => console.error(err))\r\n        setOpen(false);\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            Header: 'Customer',\r\n            accessor: 'customer'\r\n        },\r\n        {\r\n            Header: 'Date',\r\n            accessor: 'date',\r\n        },\r\n        {\r\n            Header: 'Duration',\r\n            accessor: 'duration'\r\n        },\r\n        {\r\n            Header: 'Activity',\r\n            accessor: 'activity'\r\n        },\r\n        {\r\n            sortable: false,\r\n            filterable: false,\r\n            width: 100,\r\n            accessor: 'links[1].href',\r\n            Cell: row =>\r\n                <IconButton aria-label=\"delete\" \r\n                onClick={() => handleOpen(row.value)}>\r\n                    <DeleteIcon fontSize=\"small\" />\r\n                </IconButton>\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <ReactTable filterable={true} data={trainings} columns={columns}/>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                vertical: 'bottom',\r\n                horizontal: 'left',\r\n                }}\r\n            open={open}\r\n            autoHideDuration={6000}\r\n            onClose={handleClose}\r\n            message=\"Are you sure?\"\r\n            action={\r\n            <React.Fragment>\r\n                <Button color=\"secondary\" size=\"small\" onClick={deleteTraining}>\r\n                    Delete\r\n                </Button>\r\n                <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n                    <CloseIcon fontSize=\"small\" />\r\n                </IconButton>\r\n            </React.Fragment>\r\n            }\r\n        />\r\n        </div>\r\n    )\r\n}","C:\\Users\\janni\\personal_trainer\\src\\components\\Editcustomer.js",[],"C:\\Users\\janni\\personal_trainer\\src\\components\\Addcustomer.js",[],"C:\\Users\\janni\\personal_trainer\\src\\components\\Addtraining.js",[],"C:\\Users\\janni\\personal_trainer\\src\\components\\Calendar.js",[],{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","severity":1,"message":"49","line":33,"column":21,"nodeType":"50","messageId":"51","endLine":33,"endColumn":74},{"ruleId":"52","severity":1,"message":"53","line":37,"column":62,"nodeType":"54","messageId":"55","endLine":37,"endColumn":64},"no-native-reassign",["56"],"no-negated-in-lhs",["57"],"no-unreachable","Unreachable code.","ExpressionStatement","unreachableCode","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","no-global-assign","no-unsafe-negation"]